<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
    body{
    	height: 1000px;
    }
    #box {
        position: absolute;
        left: 50%;
        top: 50px;
        margin-left: -50px;
        width: 100px;
        height: 30px;
        line-height: 30px;
        text-align: center;
        background-color: #9f9;
    }
    
    #mark {
        position: absolute;
        top: 30px;
        left: 0;
        width: 300px;
        height: 100px;
        line-height: 30px;
        text-align: center;
        background-color: #f99;
    }
    </style>
</head>

<body>
    <div id="box">
        <span>购物车</span>
        <div id="mark" style="display: none">查看购物车中的详细信息</div>
    </div>
    <script>
    // 1.事件委托/事件代理:利用事件的冒泡传播机制(触发当前元素的某个行为,它父级的相关行为都会被触发),如果一个容器中有很多元素都要绑定点击事件,我们没必要一个个绑定,只需要给最外层容器绑定一个点击事件即可,在这个方法执行的时候,通过事件源的区分来进行不同的操作
    // 就是想要某元素的点击事件,我们把点击事件没有绑定在他的身上,而是绑定在他父级某元素的身上
    document.body.onclick = function(e) {
    	console.log(e.target)
        e = e || window.event;
        e.target = e.target || e.srcElement;
        // 如果点击的是#box 或者sapn ,我们判断mark是否显示
        if (e.target.id === "box" || e.target.tagName.toLowerCase() === 'span' && (e.target.parentNode.id = "box")) {
            if (mark.style.display === "none") {
                mark.style.display = "block"
            } else {
                mark.style.display = "none"
            }
            return;
        }
        // 如果事件源是mark,不进行任何操作
        if (e.target.id === "mark") {
            return;
        }
        mark.style.display = "none";

    }
    </script>
</body>

</html>
