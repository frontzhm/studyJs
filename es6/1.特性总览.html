<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>

<body>
  <ol>
    <li>let const 是块级作用域,只能定义一次重复定义会报错 {} const用于常量,只读不可写,写了会报错</li>
    <li>destructuring 从数组,对象,字符串中提取值，对变量进行赋值</li>
    <li>template string `${name}`</li>
    <li>arrow function ???</li>
    <li>rest ...rest 一个新的对象，可以拿到除开始参数外的参数，即剩余参数</li>
    <li>spread var args = ["a", "b", "c"]; console.log(...args); // "a" "b" "c"</li>
    <li>class extends super</li>
    <li>decrator</li>
    <li>promise</li>
    <li>export import</li>
  </ol>
  <script>
  // 1.let && const 块级作用域
  function f1() {
    let n = 5;
    if (true) {
      let n = 10;
    }
    console.log(n)
  }
  f1() // 5
  function f2() {
    const n = 5;
    if (true) {
      const n = 10;
    }
    console.log(n)
  }
  f2() // 5
  const PI = 3.1415;
  console.log(PI);
  // PI= 3;// Uncaught TypeError: Assignment to constant variable.
  console.log(PI);


  // 2.destructuring 从数组和对象中提取值，对变量进行赋值，这被称为解构
  'use strict';
  // 数组的解构赋值
  {
    let [foo, [
      [bar], baz
    ]] = [1, [
      [2], 3
    ]]
    console.log(foo) // 1
    console.log(bar) // 2
    console.log(baz) // 3
  }
  // 对象的解构赋值
  {
    let {
      foo,
      bar
    } = {
      foo: 'aaa',
      bar: 'bbb'
    };
    console.log(foo) // 'aaa'
    console.log(bar) // 'bbb'
  }
  // 字符串的解构赋值
  const [a, b, c, d, e] = 'hello';
  console.log(a + b + c + d + e) // hello

  // 用途
  // 交换变量的值
  let [x, y] = [1, 2];
  [x, y] = [y, x];
  console.log(x) // 2
  console.log(y) // 1
    // 从函数返回多个值
  function hua() {
    return [1, 2, 3]
  }
  var [v, m, k] = hua();
  console.log(v, m, k)
    // 函数参数的定义
    // 有序
  function f([x, y, z]) {

  }
  f([1, 2, 3])
    // 无序
  function f({
    x,
    y,
    z
  }) {}
  f({
      y: 1,
      x: 2,
      z: 9
    })
    // 提取json数据
  var jsonData = {
    id: 42,
    status: "OK",
    data: [867, 5309]
  };

  let { id, status, data: number } = jsonData;
console.log(id, status, number);
// 42, "OK", [867, 5309]

// 函数参数的默认值
// function hua(a,{b=1,c=2}){console.log(1)}











  // 3.template string
  let name = "huahua";
  let age = 18;
  console.log(`${name} want to drink ${age}`)






  // 4.arrow function
  // class Animal{
  // 	constructor(name){this.name = name;}
  // 	// type='water' 这里的意思是当type未传值的时候是'water'
  // 	drink(type='water'){
  // 		// 使用箭头函数
  // 		setInter(()=>{console.log(`${name} want to drink ${age}`)},1000)
  // 	}
  // }
  // let pig = new Animal('pig');
  // console.log(pig.drink('milk'))
  // export default Animal;



  // 5.rest ES6给我们带来了一个新的对象，可以拿到除开始参数外的参数，即剩余参数
  function restfun(a, b, ...rest) {
    console.log(a)
    console.log(rest)
  }
  restfun(1)
  restfun(1, 2, 3, 4)


  // 6.spread扩展操作符
  var args = ['a', 1, 'b', 2];
  console.log(...args) // 小遍历依次输出 'a' '1'...


  // 7.class,extends,super
  // 以前
  // function Point(x,y){
  // 	this.x = x;
  // 	this.y = y;
  // }
  // Point.prototype.toString = function () {
  // 	 return '('+this.x+','+this.y+')';
  // }
  // es6
  'use strict';
  // export default class Point {
  class Point {
    // constructor方法是类的默认方法
    constructor(x, y) {
        this.x = x;
        this.y = y;
      }
      // 这里定义的都是类的公共方法
      // 等同于Point.prototype.toString
    toString() {
      return '(' + this.x + ',' + this.y + ')';
    }
  }

  // 在moduleB中来import这个文件进行运行。 代码清单：moduleB.js

  // 'use strict';

  // import Point from './class.js';
  var point = new Point(2, 3);
  console.log(point.toString())



  // 8.Object.assign对象的合并
  var target = {
    a: 1
  };

  var source1 = {
    b: 2
  };
  var source2 = {
    c: 2
  };
  Object.assign(target, source1, source2)
  console.log(target) // {a:1, b:2, c:2}


  // decrator修饰符
  // Babel转码器支持
  // 官网提供了babel-plugin-transform-decorators这个插件来解析，但是我发现不work，就找了下面这个
  // $ npm install babel-plugin-transform-decorators-legacy --save-dev
  // 配置.babelrc的plugins字段。

  // {
  //   "presets": ["es2015", "react", "stage-0"],
  //   "plugins": ["transform-decorators-legacy"]
  // }



  // 10.promise 原生提供了Promise对象
  // 11.export, import
  </script>
</body>

</html>
