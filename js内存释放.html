<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>

<body>
  <div id="box">ss</div>
  <script>
  function c(str) {
    console.log(str)
  }
  // 堆内存 
  // 对象或者函数 在定义的时候首先都会开辟一个堆内存且有一个引用地址 如果外面有变量知道了这个引用地址 我们就说该堆内存被占用了 不能被销毁
  var obj1 = {
    name: 1
  }
  var obj2 = obj1
    // 我们想要堆内存销毁或者释放,只要把所有引用他的变量赋值null即可 如果当前的堆内存没有任何人东西占用,浏览器会在空闲的时候把它销毁,也叫垃圾回收
  obj1 = null
  obj2 = null
    // 栈内存:
    // 全局作用域:
    //        只有当页面关闭的时候 才会销毁
    // 私有作用域(只有函数执行执行才有私有作用域):
    //        一般情况下函数执行会形成一个新的私有作用域 当私有作用域中的代码执行完成后 当前作用域都会主动的进行释放和销毁
    //        特殊情况:当前私有作用域中的部分内存被私有作用域以外的东西,那么占用了 当前的作用域不能被销毁
    //        1.函数执行返回了一个引用类型的值,且在函数外面被其他的东西接收了,这种情况私有作用域不会被销毁
    //        2.在一个私有作用域中 给DOM元素的事件绑定方法 一般情况下 我们的私有作用域 我们的私有作用域不能被销毁
    //        
  function fn() {
    return function() {}
  }
  // 函数外面f接收了引用  则fn这个私有作用域不能被销毁
  var f = fn();
  // 2.在一个私有作用域中 给DOM元素的事件绑定方法 一般情况下 我们的私有作用域 我们的私有作用域不能被销毁
  // 通过Dom方法获得的元素或元素集合都是对象数据类型的值
  var x = document.getElementById("box");
  ~ function() {
    x.onclick = function() {

    }
    // 
  }()

  // 3.下述情况属于不立即销毁->fd返回的函数没有被其他东西占用,但是还需要在执行一次呢,所有暂时不销毁,当返回的值执行完成之后,浏览器会在空闲的时间销毁他 ->"不立即销毁"
  function fd () {
     return function () {} 
  }
  fd()();// 首先执行fd ,返回一个小函数对应的内存地址,然后紧接着让返回的小函数在执行
  </script>
</body>

</html>
